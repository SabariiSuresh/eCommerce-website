{% extends 'store/base.html' %}
{% block title %}Your Profile - eShop{% endblock %}

{% block content %}
  <div class="profile-container">
    <h2 class="profile-heading">Hello, {{ request.user.username }}</h2>
    <h3 class="section-title">Your Order History</h3>

    {% if orders %}
     <ul class="order-list">
  {% for order in orders %}
    <li class="order-item">
      <div><strong>Order ID :</strong> {{ order.id }}</div>
           <div><strong>Items :</strong>
        {% for item in order.items.all %}
         <span> {{ item.product.name }} (x{{ item.quantity }})</span>
        {% endfor %}
      </div>
      <div><strong>Date :</strong> {{ order.created_at|date:"F j, Y, g:i a" }}</div>
      <div><strong>Amount :</strong> {{order.total_price}} </div>
      <div><strong>Shipping Address :</strong> {{ order.shipping_address }}</div>
    </li>
  {% endfor %}
</ul>

    {% else %}
      <p class="empty-message">You have no past orders.</p>
    {% endif %}
  </div>
{% endblock %}

{% block extra_styles %}
  <style>
    .profile-container {
      background-color: #fff;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .profile-heading {
      font-size: 28px;
      color: #232f3e;
      margin-bottom: 20px;
    }

    .section-title {
      font-size: 20px;
      color: #37475a;
      margin-bottom: 15px;
      border-bottom: 2px solid #ddd;
      padding-bottom: 5px;
    }

    .order-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .order-item {
      padding: 15px 20px;
      margin-bottom: 15px;
      background-color: #f6f6f6;
      border: 1px solid #ddd;
      border-radius: 5px;
      transition: background 0.3s ease;
    }

    .order-item:hover {
      background-color: #eef3f8;
    }

    .order-item div {
      margin: 5px 0;
      font-size: 15px;
    }

    .empty-message {
      font-style: italic;
      color: #888;
      margin-top: 10px;
    }
  </style>
{% endblock %}
